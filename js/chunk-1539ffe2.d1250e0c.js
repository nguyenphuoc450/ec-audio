(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1539ffe2"],{2592:function(t,e,a){},3530:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"admin"}},[a("Sidebar",{attrs:{active:t.active},on:{onActive:t.handleActive,onLogout:t.logout}}),a("Content",{attrs:{active:t.active}})],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sidebar"}},[a("router-link",{staticClass:"brand",attrs:{to:{name:"Admin"}}},[t._v("Admin")]),a("ul",{staticClass:"nav"},[t._l(t.nav,(function(e){return a("li",{key:e.title,class:[t.active===e.name?"active":""],on:{click:function(a){return t.handleActive(e.name)}}},[a("i",{class:e.icon}),a("span",[t._v(t._s(e.title))])])})),a("li",{staticClass:"logout",on:{click:function(e){return t.$emit("onLogout")}}},[a("i",{staticClass:"fa-solid fa-arrow-right-from-bracket"}),a("span",[t._v("Logout")])])],2)],1)},r=[],o={name:"Sidebar",props:["active"],data:function(){return{nav:[{title:"Dashboard",icon:"fa-solid fa-gauge",name:"dashBoard"},{title:"Products",icon:"fa-solid fa-shirt",name:"products"}]}},methods:{handleActive:function(t){this.$emit("onActive",t)}}},c=o,l=(a("4a58"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,"dac96706",null),d=u.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content"}},["products"===t.active?a("ContentProducts"):t._e()],1)},m=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content-products"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("All Products")]),a("div",{staticClass:"btn",on:{click:t.showModal}},[t._v("Add New")])]),a("table",{staticClass:"table"},[t._m(0),t._l(t.products,(function(e,s){return a("tr",{key:e.id},[a("td",{staticClass:"key"},[t._v(t._s(s+1)+".")]),a("td",{staticClass:"name"},[t._v(t._s(e.name))]),a("td",{staticClass:"category"},[t._v(t._s(e.category))]),a("td",{staticClass:"price"},[t._v(t._s(e.price))]),a("td",{staticClass:"quantity"},[t._v(t._s(e.quantity))]),a("td",{staticClass:"actions"},[a("i",{staticClass:"fa-solid fa-ellipsis-vertical"}),a("ul",{staticClass:"popup"},[a("li",{on:{click:function(a){return t.activeModalEdit(e)}}},[t._v("Edit")]),a("li",{on:{click:function(a){return t.handleDeleteProduct(e.id,e.name)}}},[t._v("Delete")])])])])}))],2),t.isShowModal?a("div",{staticClass:"modal fadeIn",on:{click:t.closeModal}},[a("div",{staticClass:"form-group"},["create"===t.isAction?a("h2",{staticClass:"title-form"},[t._v("Create Product")]):a("h2",{staticClass:"title-form"},[t._v("Edit Product")]),a("div",{staticClass:"wrapper-input"},[a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{id:"name",type:"text",placeholder:"Name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.category,expression:"form.category"}],attrs:{name:"",id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"null",selected:""}},[t._v("Select")]),a("option",{attrs:{value:"head-phone"}},[t._v("Head Phone")]),a("option",{attrs:{value:"head-band"}},[t._v("Head Band")]),a("option",{attrs:{value:"head-earpads"}},[t._v("Head Earpads")])])]),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"price"}},[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],attrs:{id:"price",type:"number",placeholder:"Price",min:"1"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"quantity"}},[t._v("Quantity")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quantity,expression:"form.quantity"}],attrs:{id:"quantity",type:"number",placeholder:"Quantity",min:"1"},domProps:{value:t.form.quantity},on:{input:function(e){e.target.composing||t.$set(t.form,"quantity",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],attrs:{name:"description",id:"description",placeholder:"Description"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),a("div",{staticClass:"input-group"},[t._m(1),a("input",{ref:"file",attrs:{id:"file",type:"file"},on:{change:t.getFile}}),a("div",{staticClass:"image"},[this.file?a("img",{ref:"prevImage",attrs:{src:this.file,alt:"test"},on:{click:t.openInputFile}}):a("img",{attrs:{src:t.form.url,alt:""},on:{click:t.openInputFile}})])])]),"create"===t.isAction?a("div",{staticClass:"btn",on:{click:t.handleCreateProduct}},[t._v(" Create ")]):a("div",{staticClass:"btn",on:{click:function(e){return t.handleEditProduct()}}},[t._v("Edit")])]),a("div",{staticClass:"icon-close",on:{click:t.closeModal}},[a("i",{staticClass:"icon fa-solid fa-xmark"})])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowToast,expression:"isShowToast"}],ref:"toast",staticClass:"toast"},[t._v(t._s(t.message))])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"name"},[t._v("#")]),a("th",{staticClass:"name"},[t._v("Name")]),a("th",{staticClass:"category"},[t._v("Category")]),a("th",{staticClass:"price"},[t._v("Price")]),a("th",{staticClass:"quantity"},[t._v("Quantity")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"file"}},[a("i",{staticClass:"fa-solid fa-image"}),t._v(" Upload Image Here ")])}],h=a("1da1"),g=a("5530"),b=(a("96cf"),a("b0c0"),a("8c56")),C=a("e71f"),_=a("588e"),y=a("2f62"),w={name:"ContentProducts",data:function(){return{isShowModal:!1,form:{name:null,category:null,price:null,quantity:null,description:null},isShowToast:!1,message:"",isAction:"create",file:null}},created:function(){this.getProducts()},computed:Object(g["a"])({},Object(y["c"])(["products"])),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["getProducts"])),{},{showModal:function(){this.isShowModal=!0},closeModal:function(t){(t.target.matches(".modal")||t.target.matches(".icon"))&&(this.form={name:null,category:null,quantity:null},this.isShowModal=!1,this.file=null,this.message="",this.isShowToast=!1,this.isAction="create")},getFile:function(t){var e=this;this.file=t.target.files[0];var a=new FileReader;a.readAsDataURL(this.file),a.onload=function(){var t=a.result;e.$refs.prevImage.src=t}},openInputFile:function(){this.$refs.file.click()},handleDisplayToast:function(){var t=this;this.isShowToast=!0,setTimeout((function(){t.message="",t.isShowToast=!1}),2e3)},handleAddClassToast:function(t){"success"==t?(this.$refs.toast.classList.remove("error"),this.$refs.toast.classList.add("success")):(this.$refs.toast.classList.remove("success"),this.$refs.toast.classList.add("danger"))},handleCreateProduct:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.form.name&&"null"!==t.form.category&&t.form.price&&t.form.quantity&&t.file)){e.next=18;break}return e.next=3,Object(C["a"])(Object(C["b"])(b["b"],"products"),t.form);case 3:return a=e.sent,s=a.id,i=t.form,n=Object(_["c"])(),r=Object(_["d"])(n,"imgProducts/".concat(s)),e.next=10,Object(_["e"])(r,t.file).then((function(t){Object(_["b"])(t.ref).then((function(t){var e=Object(C["d"])(b["b"],"products",s);Object(C["h"])(e,Object(g["a"])({url:t},i))}))}));case 10:t.form={name:null,category:null,price:null,quantity:null,description:null},t.$refs.file.value=null,t.message="Create Success",t.handleDisplayToast(),t.handleAddClassToast("success"),t.getProducts(),e.next=21;break;case 18:t.message="Create Failure",t.handleDisplayToast(),t.handleAddClassToast("error");case 21:case"end":return e.stop()}}),e)})))()},handleDeleteProduct:function(t,e){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var i,n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=confirm("Are you sure to delete: "+e),!i){s.next=12;break}return s.next=4,Object(C["c"])(Object(C["d"])(b["b"],"products",t));case 4:return n=Object(_["c"])(),r=Object(_["d"])(n,"imgProducts/".concat(t)),s.next=8,Object(_["a"])(r).then((function(){})).catch((function(t){console.log("delete image error:"+t)}));case 8:a.message="Delete success",a.handleDisplayToast(),a.handleAddClassToast("success"),a.getProducts();case 12:case"end":return s.stop()}}),s)})))()},activeModalEdit:function(t){this.isAction="edit",this.form=Object(g["a"])({},t),this.isShowModal=!0},handleEditProduct:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(C["d"])(b["b"],"products",t.form.id),!(t.form.name&&"null"!==t.form.category&&t.form.price&&t.form.quantity)){e.next=19;break}return e.next=4,Object(C["h"])(a,Object(g["a"])({id:t.form.id},t.form));case 4:if(s=Object(_["c"])(),i=Object(_["d"])(s,"imgProducts/".concat(t.form.id)),!t.file){e.next=9;break}return e.next=9,Object(_["e"])(i,t.file);case 9:t.form={name:null,category:null,price:null,quantity:null,description:null},t.file=null,t.isShowModal=!1,t.isAction="create",t.getProducts(),t.message="Edit success",t.handleDisplayToast(),t.handleAddClassToast("success"),e.next=22;break;case 19:t.message="Edit error",t.handleDisplayToast(),t.handleAddClassToast("error");case 22:case"end":return e.stop()}}),e)})))()}})},j=w,O=(a("c83e"),Object(l["a"])(j,p,v,!1,null,"ccbdfd36",null)),k=O.exports,x={name:"Content",props:["active"],components:{ContentProducts:k}},P=x,A=(a("e9be"),Object(l["a"])(P,f,m,!1,null,"19b28770",null)),$=A.exports,S=a("ea7b"),T={name:"Admin",data:function(){return{active:"products"}},components:{Sidebar:d,Content:$},computed:{isLogin:function(){return this.$store.state.isLogin}},watch:{isLogin:function(t){t||(console.log("ch∆∞a login"),this.$router.push({name:"Login"}))}},methods:{handleActive:function(t){this.active=t},logout:function(){Object(S["d"])(b["a"]).then((function(){})).catch((function(t){console.log(t)}))}}},E=T,q=(a("5c7f"),Object(l["a"])(E,s,i,!1,null,"06b3c0c4",null));e["default"]=q.exports},"4a58":function(t,e,a){"use strict";a("2592")},"5c7f":function(t,e,a){"use strict";a("cc9c")},b0c0:function(t,e,a){var s=a("83ab"),i=a("5e77").EXISTS,n=a("e330"),r=a("9bf2").f,o=Function.prototype,c=n(o.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=n(l.exec),d="name";s&&!i&&r(o,d,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},c273:function(t,e,a){},c83e:function(t,e,a){"use strict";a("c273")},cc9c:function(t,e,a){},e9be:function(t,e,a){"use strict";a("f1d3")},f1d3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1539ffe2.d1250e0c.js.map